# ä¼ä¸šçº§RAGç³»ç»Ÿ - æœ¬åœ°ç§æœ‰åŒ–éƒ¨ç½²æŒ‡å—

## ğŸ“‹ å‰ææ¡ä»¶

### ç¡¬ä»¶è¦æ±‚

- **CPU**: 4æ ¸å¿ƒä»¥ä¸Šï¼ˆæ¨è8æ ¸ï¼‰
- **å†…å­˜**: 8GBä»¥ä¸Šï¼ˆæ¨è16GBï¼‰
- **ç£ç›˜**: 50GBä»¥ä¸Šå¯ç”¨ç©ºé—´
- **ç½‘ç»œ**: ç¨³å®šçš„äº’è”ç½‘è¿æ¥ï¼ˆè®¿é—®ç™¾åº¦åƒå¸†APIï¼‰

### è½¯ä»¶è¦æ±‚

- **æ“ä½œç³»ç»Ÿ**: Linuxï¼ˆUbuntu 20.04+ã€CentOS 7+ï¼‰ã€macOSã€Windowsï¼ˆWSL2ï¼‰
- **Docker**: 20.10+
- **Docker Compose**: 2.0+
- **Git**: ç”¨äºå…‹éš†ä»£ç 

### ç™¾åº¦åƒå¸†API

- æ³¨å†Œç™¾åº¦æ™ºèƒ½äº‘è´¦å·: https://cloud.baidu.com/
- å¼€é€šåƒå¸†å¤§æ¨¡å‹å¹³å°
- è·å–API Key:
  1. ç™»å½•ç™¾åº¦æ™ºèƒ½äº‘æ§åˆ¶å°
  2. è¿›å…¥"åƒå¸†å¤§æ¨¡å‹å¹³å°"
  3. åˆ›å»ºåº”ç”¨è·å– API Key å’Œ Secret Key
  4. ç»„åˆæ ¼å¼: `{API_KEY}.{SECRET_KEY}`ï¼ˆä¾‹å¦‚: `12345678.abc123def456`ï¼‰

---

## ğŸš€ å¿«é€Ÿéƒ¨ç½²ï¼ˆDocker Composeï¼‰

### æ­¥éª¤1: å…‹éš†ä»£ç 

```bash
git clone https://github.com/lizhen-jack/enterprise-rag-system
cd enterprise-rag-system
```

### æ­¥éª¤2: é…ç½®ç¯å¢ƒå˜é‡

å¤åˆ¶ç¤ºä¾‹é…ç½®æ–‡ä»¶ï¼š

```bash
cp .env.example .env
```

ç¼–è¾‘`.env`æ–‡ä»¶ï¼Œå¡«å…¥ç™¾åº¦åƒå¸†APIå¯†é’¥ï¼š

```bash
nano .env
```

```env
# ç™¾åº¦åƒå¸†APIé…ç½®ï¼ˆå¿…å¡«ï¼‰
# æ ¼å¼: {API_KEY}.{SECRET_KEY}
BAIYUN_API_KEY=your_baiyun_api_key_here

# åº”ç”¨å¯†é’¥ï¼ˆå¯é€‰ï¼Œç”Ÿäº§ç¯å¢ƒå»ºè®®ä¿®æ”¹ï¼‰
SECRET_KEY=rag-secret-key-change-in-production

# CORSé…ç½®ï¼ˆå¯é€‰ï¼Œæ ¹æ®å¤–ç½‘IPä¿®æ”¹ï¼‰
CORS_ORIGINS=http://localhost,http://120.48.89.60

# æ•°æ®åº“é…ç½®ï¼ˆå¯é€‰ï¼Œé»˜è®¤ä½¿ç”¨docker-composeé…ç½®ï¼‰
DATABASE_URL=postgresql+asyncpg://postgres:rag_password@postgres/rag_db
MILVUS_HOST=localhost
MILVUS_PORT=19530
REDIS_URL=redis://localhost:6379/0
```

### æ­¥éª¤3: å¯åŠ¨æœåŠ¡

```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f
```

**æœåŠ¡è¯´æ˜**:

| æœåŠ¡å | ç«¯å£ | è¯´æ˜ |
|--------|------|------|
| postgres | 5432 | PostgreSQLæ•°æ®åº“ |
| milvus | 19530 | Milvuså‘é‡æ•°æ®åº“ |
| redis | 6379 | Redisç¼“å­˜ |
| backend | 8000 | FastAPIåç«¯ |
| frontend | 80 | Vueå‰ç«¯ï¼ˆNginxï¼‰ |

### æ­¥éª¤4: è®¿é—®åº”ç”¨

- **å‰ç«¯é¡µé¢**: http://localhost æˆ– http://120.48.89.60
- **åç«¯APIæ–‡æ¡£**: http://localhost:8000/docs æˆ– http://120.48.89.60:8000/docs

### æ­¥éª¤5: åˆå§‹åŒ–æ•°æ®åº“

é¦–æ¬¡å¯åŠ¨åï¼Œæ•°æ®åº“ä¼šè‡ªåŠ¨åˆ›å»ºè¡¨ç»“æ„ã€‚å¦‚æœéœ€è¦æ‰‹åŠ¨åˆå§‹åŒ–ï¼š

```bash
# è¿›å…¥åç«¯å®¹å™¨
docker-compose exec backend bash

# è¿è¡Œæ•°æ®åº“è¿ç§»
python -c "from core.database import engine; from models import user, document, conversation, memory; import asyncio; asyncio.run(engine.connect())"
```

---

## ğŸ› ï¸ æ‰‹åŠ¨éƒ¨ç½²ï¼ˆç”Ÿäº§ç¯å¢ƒæ¨èï¼‰

### æ­¥éª¤1: å®‰è£…ä¾èµ–

#### å®‰è£…PostgreSQL

**Ubuntu/Debian**:
```bash
sudo apt update
sudo apt install postgresql postgresql-contrib
sudo systemctl start postgresql
sudo systemctl enable postgresql
```

**CentOS/RHEL**:
```bash
sudo yum install postgresql-server postgresql-contrib
sudo postgresql-setup initdb
sudo systemctl start postgresql
sudo systemctl enable postgresql
```

#### å®‰è£…Redis

**Ubuntu/Debian**:
```bash
sudo apt install redis-server
sudo systemctl start redis-server
sudo systemctl enable redis-server
```

**CentOS/RHEL**:
```bash
sudo yum install redis
sudo systemctl start redis
sudo systemctl enable redis
```

#### å®‰è£…Milvus

**æ¨èä½¿ç”¨Docker**:
```bash
docker pull milvusdb/milvus:v2.3.3
docker run -d --name milvus \
  -p 19530:19530 \
  -v milvus_data:/var/lib/milvus \
  milvusdb/milvus:v2.3.3 \
  milvus run standalone
```

**æˆ–è€…ä½¿ç”¨Milvus Standalone**ï¼ˆå‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼‰:
```bash
wget https://github.com/milvus-io/milvus/releases/download/v2.3.3/milvus-standalone_darwin_arm64.tar.gz
tar -xzf milvus-standalone_darwin_arm64.tar.gz
cd milvus-standalone
./run_standalone.sh
```

### æ­¥éª¤2: é…ç½®æ•°æ®åº“

#### é…ç½®PostgreSQL

```bash
# ç™»å½•PostgreSQL
sudo -u postgres psql

# åˆ›å»ºæ•°æ®åº“å’Œç”¨æˆ·
CREATE DATABASE rag_db;
CREATE USER rag_user WITH PASSWORD 'your_password';
GRANT ALL PRIVILEGES ON DATABASE rag_db TO rag_user;

# é€€å‡º
\q
```

#### æµ‹è¯•Redis

```bash
redis-cli ping
# åº”è¿”å›: PONG
```

#### æµ‹è¯•Milvus

```bash
# å¦‚æœä½¿ç”¨Docker
docker logs milvus
# åº”çœ‹åˆ°å¯åŠ¨æˆåŠŸä¿¡æ¯
```

### æ­¥éª¤3: å®‰è£…Pythonä¾èµ–

```bash
cd backend

# åˆ›å»ºè™šæ‹Ÿ environment
python3 -m venv venv
source venv/bin/activate  # Linux/macOS
# æˆ– venv\Scripts\activate  # Windows

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

### æ­¥éª¤4: é…ç½®`.env`æ–‡ä»¶

```bash
cp .env.example .env
nano .env
```

```env
# ç™¾åº¦åƒå¸†API
BAIYUN_API_KEY=your_baiyun_api_key_here

# æ•°æ®åº“é…ç½®
DATABASE_URL=postgresql+asyncpg://rag_user:your_password@localhost/rag_db

# Milvusé…ç½®
MILVUS_HOST=localhost
MILVUS_PORT=19530

# Redisé…ç½®
REDIS_URL=redis://localhost:6379/0

# åº”ç”¨å¯†é’¥
SECRET_KEY=your-secret-key-here

# CORSé…ç½®
CORS_ORIGINS=http://localhost,http://120.48.89.60
```

### æ­¥éª¤5: åˆå§‹åŒ–æ•°æ®åº“è¡¨

```bash
# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒå
python -c "
import asyncio
from core.database import engine
from models import user, document, conversation, memory

async def init_db():
    async with engine.begin() as conn:
        # ä¼šè‡ªåŠ¨åˆ›å»ºè¡¨ï¼ˆåŸºäºSQLAlchemyæ¨¡å‹ï¼‰
        pass

asyncio.run(init_db())
print('æ•°æ®åº“åˆå§‹åŒ–å®Œæˆ')
"
```

### æ­¥éª¤6: å¯åŠ¨åç«¯æœåŠ¡

```bash
# å¼€å‘æ¨¡å¼ï¼ˆè‡ªåŠ¨é‡è½½ï¼‰
uvicorn main:app --reload --port 8000

# ç”Ÿäº§æ¨¡å¼ï¼ˆå¤šworkerï¼‰
gunicorn main:app -w 4 -k uvicorn.workers.UvicornWorker --bind 0.0.0.0:8000
```

### æ­¥éª¤7: æ„å»ºå‰ç«¯

```bash
cd frontend

# å®‰è£…ä¾èµ–
npm install

# å¼€å‘æ¨¡å¼
npm run dev

# ç”Ÿäº§æ„å»º
npm run build
```

ç”Ÿäº§ç¯å¢ƒçš„é™æ€æ–‡ä»¶åœ¨`dist/`ç›®å½•ï¼Œå¯ä»¥ç”¨Nginxéƒ¨ç½²ï¼š

```bash
# å®‰è£…Nginx
sudo apt install nginx  # Ubuntu
# æˆ–
sudo yum install nginx  # CentOS

# é…ç½®Nginx
sudo nano /etc/nginx/sites-available/rag-system
```

```nginx
server {
    listen 80;
    server_name your-domain.com;

    # å‰ç«¯é™æ€æ–‡ä»¶
    location / {
        root /path/to/frontend/dist;
        try_files $uri $uri/ /index.html;
    }

    # APIä»£ç†
    location /api {
        proxy_pass http://localhost:8000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    }

    # APIæ–‡æ¡£
    location /docs {
        proxy_pass http://localhost:8000/docs;
        proxy_set_header Host $host;
    }
}
```

```bash
# å¯ç”¨é…ç½®
sudo ln -s /etc/nginx/sites-available/rag-system /etc/nginx/sites-enabled/

# æµ‹è¯•é…ç½®
sudo nginx -t

# é‡å¯Nginx
sudo systemctl restart nginx
```

---

## ğŸ”’ ç”Ÿäº§ç¯å¢ƒä¼˜åŒ–

### 1. ä½¿ç”¨Systemdç®¡ç†åç«¯æœåŠ¡

åˆ›å»º`/etc/systemd/system/rag-backend.service`:

```ini
[Unit]
Description=Enterprise RAG Backend
After=network.target postgresql.service milvus.service redis.service

[Service]
Type=notify
User=rag-user
WorkingDirectory=/path/to/backend/venv
Environment="PATH=/path/to/backend/venv/bin"
ExecStart=/path/to/backend/venv/bin/gunicorn main:app -w 4 -k uvicorn.workers.UvicornWorker --bind 0.0.0.0:8000
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
```

```bash
# é‡è½½systemd
sudo systemctl daemon-reload

# å¯åŠ¨æœåŠ¡
sudo systemctl start rag-backend

# å¼€æœºè‡ªå¯
sudo systemctl enable rag-backend

# æŸ¥çœ‹çŠ¶æ€
sudo systemctl status rag-backend
```

### 2. ä½¿ç”¨Supervisorç®¡ç†è¿›ç¨‹

å®‰è£…Supervisor:

```bash
sudo apt install supervisor  # Ubuntu
# æˆ–
sudo yum install supervisor  # CentOS
```

é…ç½®`/etc/supervisor/conf.d/rag-backend.conf`:

```ini
[program:rag-backend]
command=/path/to/backend/venv/bin/gunicorn main:app -w 4 -k uvicorn.workers.UvicornWorker --bind 0.0.0.0:8000
directory=/path/to/backend
user=rag-user
autostart=true
autorestart=true
redirect_stderr=true
stdout_logfile=/var/log/rag-backend.log
```

```bash
# é‡å¯Supervisor
sudo supervisorctl reread
sudo supervisorctl update
sudo supervisorctl start rag-backend
```

### 3. æ•°æ®åº“è¿æ¥æ± ä¼˜åŒ–

ç¼–è¾‘`backend/core/database.py`:

```python
from sqlalchemy.ext.asyncio import AsyncSession, create_async_engine
from sqlalchemy.orm import sessionmaker

engine = create_async_engine(
    settings.DATABASE_URL,
    echo=settings.DEBUG,
    pool_size=20,  # è¿æ¥æ± å¤§å°
    max_overflow=10,  # æœ€å¤§æº¢å‡ºè¿æ¥
    pool_timeout=30,  # è¿æ¥è¶…æ—¶
    pool_pre_ping=True  # è¿æ¥å‰ping
)

AsyncSessionLocal = sessionmaker(
    engine,
    class_=AsyncSession,
    expire_on_commit=False,
    autocommit=False,
    autoflush=False
)
```

### 4. Nginxåå‘ä»£ç†é…ç½®

```nginx
# /etc/nginx/sites-available/rag-production.conf

upstream rag_backend {
    server localhost:8000;
    # å¤šå®ä¾‹è´Ÿè½½å‡è¡¡
    # server localhost:8001;
    # server localhost:8002;
}

server {
    listen 80;
    server_name your-domain.com;

    # æ—¥å¿—
    access_log /var/log/nginx/rag-access.log;
    error_log /var/log/nginx/rag-error.log;

    # å®¢æˆ·ç«¯ä¸Šä¼ å¤§å°é™åˆ¶
    client_max_body_size 50M;

    # å‰ç«¯é™æ€æ–‡ä»¶
    location / {
        root /path/to/frontend/dist;
        try_files $uri $uri/ /index.html;
        expires 1d;  # ç¼“å­˜1å¤©
        add_header Cache-Control "public, no-transform";
    }

    # APIä»£ç†
    location /api {
        proxy_pass http://rag_backend;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;

        # è¶…æ—¶é…ç½®
        proxy_connect_timeout 60s;
        proxy_send_timeout 60s;
        proxy_read_timeout 60s;

        # WebSocketæ”¯æŒï¼ˆå¦‚æœéœ€è¦ï¼‰
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
    }

    # APIæ–‡æ¡£ï¼ˆç”Ÿäº§ç¯å¢ƒå¯ç¦ç”¨ï¼‰
    location /docs {
        # ç”Ÿäº§ç¯å¢ƒè¯·æ³¨é‡Šæ­¤è¡Œæˆ–é™åˆ¶IP
        # ä»…å…è®¸å†…ç½‘è®¿é—®
        allow 127.0.0.1;
        allow 10.0.0.0/8;
        deny all;

        proxy_pass http://rag_backend/docs;
        proxy_set_header Host $host;
    }
}
```

### 5. SSL/HTTPSé…ç½®ï¼ˆæ¨èï¼‰

ä½¿ç”¨Let's Encryptå…è´¹è¯ä¹¦ï¼š

```bash
# å®‰è£…Certbot
sudo apt install certbot python3-certbot-nginx

# è·å–è¯ä¹¦
sudo certbot --nginx -d your-domain.com

# è‡ªåŠ¨ç»­æœŸ
sudo certbot renew --dry-run
```

Certbotä¼šè‡ªåŠ¨ä¿®æ”¹Nginxé…ç½®ï¼Œæ·»åŠ HTTPSæ”¯æŒã€‚

### 6. é˜²ç«å¢™é…ç½®

**Ubuntu/Debian (UFW)**:
```bash
# å…è®¸HTTP/HTTPS
sudo ufw allow 80/tcp
sudo ufw allow 443/tcp

# é™åˆ¶æ•°æ®åº“ç«¯å£ï¼ˆä»…å†…ç½‘ï¼‰
sudo ufw allow from 10.0.0.0/8 to any port 5432
sudo ufw allow from 10.0.0.0/8 to any port 6379
sudo ufw allow from 10.0.0.0/8 to any port 19530

# å¯ç”¨é˜²ç«å¢™
sudo ufw enable
```

**CentOS/RHEL (firewalld)**:
```bash
# å…è®¸HTTP/HTTPS
sudo firewall-cmd --permanent --add-service=http
sudo firewall-cmd --permanent --add-service=https

# é™åˆ¶æ•°æ®åº“ç«¯å£
sudo firewall-cmd --permanent --add-rich-rule='rule family="ipv4" source address="10.0.0.0/8" port protocol="tcp" port="5432" accept'

# é‡è½½
sudo firewall-cmd --reload
```

---

## ğŸ“Š ç›‘æ§ä¸æ—¥å¿—

### åç«¯æ—¥å¿—

```bash
# Docker Compose
docker-compose logs -f backend

# æ‰‹åŠ¨éƒ¨ç½²
journalctl -u rag-backend -f  # Systemd
# æˆ–
tail -f /var/log/rag-backend.log  # Supervisor
```

### æ•°æ®åº“æ—¥å¿—

```bash
# PostgreSQL
sudo tail -f /var/log/postgresql/postgresql-*.log

# Redis
sudo tail -f /var/log/redis/redis-server.log
```

### Nginxæ—¥å¿—

```bash
sudo tail -f /var/log/nginx/rag-access.log
sudo tail -f /var/log/nginx/rag-error.log
```

### ç³»ç»Ÿèµ„æºç›‘æ§

```bash
# å®‰è£…htop
sudo apt install htop

# å¯åŠ¨htop
htop
```

---

## ğŸ”§ æ•…éšœæ’æŸ¥

### é—®é¢˜1: Milvusæ— æ³•å¯åŠ¨

**ç—‡çŠ¶**: docker-compose logs milvus æ˜¾ç¤ºé”™è¯¯

**è§£å†³æ–¹æ³•**:
```bash
# æ¸…ç†Milvuså®¹å™¨å’Œæ•°æ®
docker-compose down -v
docker-compose up -d

# æ£€æŸ¥ç«¯å£å ç”¨
sudo lsof -i:19530

# ç­‰å¾…Milvuså®Œå…¨å¯åŠ¨ï¼ˆçº¦30ç§’ï¼‰
docker-compose logs -f milvus
```

### é—®é¢˜2: ç™¾åº¦åƒå¸†APIè°ƒç”¨å¤±è´¥

**ç—‡çŠ¶**: åç«¯æ—¥å¿—æ˜¾ç¤º "APIè°ƒç”¨å¤±è´¥"

**è§£å†³æ–¹æ³•**:
1. æ£€æŸ¥`.env`æ–‡ä»¶ä¸­çš„`BAIYUN_API_KEY`æ ¼å¼æ˜¯å¦æ­£ç¡®ï¼ˆ`{API_KEY}.{SECRET_KEY}`ï¼‰
2. æ£€æŸ¥ç½‘ç»œæ˜¯å¦å¯ä»¥è®¿é—®ç™¾åº¦API
3. æ£€æŸ¥ç™¾åº¦åƒå¸†å¹³å°çš„é¢åº¦æ˜¯å¦å……è¶³
4. æŸ¥çœ‹åç«¯æ—¥å¿—è·å–è¯¦ç»†é”™è¯¯ä¿¡æ¯

### é—®é¢˜3: æ–‡æ¡£ä¸Šä¼ å¤±è´¥

**ç—‡çŠ¶**: ä¸Šä¼ æ–‡æ¡£æ—¶æŠ¥é”™

**è§£å†³æ–¹æ³•**:
1. æ£€æŸ¥æ–‡ä»¶å¤§å°ï¼ˆæœ€å¤§50MBï¼‰
2. æ£€æŸ¥æ–‡ä»¶æ ¼å¼æ˜¯å¦å—æ”¯æŒ
3. æ£€æŸ¥`uploads/`ç›®å½•æ˜¯å¦æœ‰å†™æƒé™
4. æŸ¥çœ‹åç«¯æ—¥å¿—

### é—®é¢˜4: å‘é‡æœç´¢æ— ç»“æœ

**ç—‡çŠ¶**: ä¸Šä¼ æ–‡æ¡£åæœç´¢è¿”å›ç©º

**è§£å†³æ–¹æ³•**:
1. ç¡®è®¤æ–‡æ¡£çŠ¶æ€ä¸º`indexed`
2. é™ä½`SIMILARITY_THRESHOLD`ï¼ˆé»˜è®¤0.6ï¼‰
3. æ£€æŸ¥æ–‡æ¡£å†…å®¹æ˜¯å¦æˆåŠŸè§£æ
4. æ£€æŸ¥Milvusæ˜¯å¦æ­£å¸¸å·¥ä½œ

### é—®é¢˜5: å‰ç«¯é¡µé¢æ— æ³•åŠ è½½

**ç—‡çŠ¶**: æ‰“å¼€æµè§ˆå™¨æ˜¾ç¤ºé”™è¯¯

**è§£å†³æ–¹æ³•**:
1. æ£€æŸ¥Nginxæ˜¯å¦è¿è¡Œ
2. æ£€æŸ¥ç«¯å£æ˜¯å¦æ­£ç¡®ï¼ˆ80ï¼‰
3. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
4. æ£€æŸ¥é˜²ç«å¢™è§„åˆ™
5. æŸ¥çœ‹Nginxé”™è¯¯æ—¥å¿—

---

## ğŸ”„ æ›´æ–°ä¸ç»´æŠ¤

### å¤‡ä»½æ•°æ®

```bash
# å¤‡ä»½PostgreSQL
pg_dump -U rag_user -h localhost rag_db > backup_$(date +%Y%m%d).sql

# å¤‡ä»½Milvus
docker exec milvus cp /var/lib/milvus ./milvus_backup_$(date +%Y%m%d)

# å¤‡ä»½Redis
redis-cli BGSAVE
```

### æ¢å¤æ•°æ®

```bash
# æ¢å¤PostgreSQL
psql -U rag_user -h localhost rag_db < backup_20240223.sql

# æ¢å¤Milvus
docker cp ./milvus_backup_20240223 milvus:/var/lib/milvus
docker restart milvus
```

### æ›´æ–°ä»£ç 

```bash
# æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# é‡å¯æœåŠ¡
docker-compose down
docker-compose up -d --build

# æˆ–æ‰‹åŠ¨éƒ¨ç½²
cd backend
pip install -r requirements.txt --upgrade
sudo systemctl restart rag-backend

cd frontend
npm run build
sudo systemctl reload nginx
```

---

## ğŸš¦ æ€§èƒ½æµ‹è¯•

### å‹åŠ›æµ‹è¯•ï¼ˆä½¿ç”¨Apache Benchï¼‰

```bash
# å®‰è£…ab
sudo apt install apache2-utils

# æµ‹è¯•API
ab -n 1000 -c 10 http://localhost/api/documents/stats

# æµ‹è¯•å¯¹è¯
ab -n 100 -c 5 -p test.json -T application/json http://localhost/api/chat/chat
```

`test.json`:
```json
{
  "message": "æµ‹è¯•é—®é¢˜",
  "temperature": 0.7
}
```

### æ•°æ®åº“æ€§èƒ½

```bash
# PostgreSQLè¿æ¥æ•°
psql -U rag_user -h localhost -d rag_db -c "SELECT count(*) FROM pg_stat_activity;"

# Milvusç»Ÿè®¡ï¼ˆä½¿ç”¨Milvusç®¡ç†å·¥å…·ï¼‰
# å‚è€ƒ: https://milvus.io/docs/manage_connection.md
```

---

## ğŸ“š å‚è€ƒèµ„æ–™

- **Docker Composeæ–‡æ¡£**: https://docs.docker.com/compose/
- **PostgreSQLæ–‡æ¡£**: https://www.postgresql.org/docs/
- **Milvusæ–‡æ¡£**: https://milvus.io/docs
- **Redisæ–‡æ¡£**: https://redis.io/docs/
- **Nginxæ–‡æ¡£**: https://nginx.org/en/docs/
- **Supervisoræ–‡æ¡£**: http://supervisord.org/
- **Systemdæ–‡æ¡£**: https://www.freedesktop.org/software/systemd/man/

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0.0
**æœ€åæ›´æ–°**: 2026-02-23
**ä½œè€…**: æç¥¯ï¼ˆå°é¾™é¾™AIå·¥ä½œå®¤ï¼‰
**æ”¯æŒ**: å¦‚æœ‰é—®é¢˜è¯·æIssueåˆ°GitHub
